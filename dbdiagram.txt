Table recipes {
  id int [pk, increment]
  name varchar(255) [not null, unique]
  description text
  prep_time_minutes int
  cook_time_minutes int
  servings int
}

Table ingredients {
  id int [pk, increment]
  name varchar(255) [not null, unique]
}

Table recipe_ingredients {
  recipe_id int [not null]
  ingredient_id int [not null]
  quantity decimal [not null]
  unit_id int [not null]

  indexes {
    (recipe_id, ingredient_id) [pk]
  }
}

Table units {
  unit_id int [not null]
  name varchar(50) [not null]
}

Table tag_categories {
    id int [pk, increment]
    name str [not null]
}

Table tags {
    id int [pk, increment]
    category_id int
    name str
}

Table recipe_tags {
    recipe_id int [not null]
    tag_id int [not null]

    indexes {
      (recipe_id, tag_id) [pk]
    }
}


Ref: recipe_ingredients.recipe_id > recipes.id
Ref: recipe_ingredients.ingredient_id > ingredients.id
Ref: "recipe_ingredients"."unit_id" > "units"."unit_id"
Ref: "recipe_tags"."recipe_id" < "recipes"."id"
Ref: "recipe_tags"."tag_id" < "tags"."id"
Ref: "tags"."category_id" < "tag_categories"."id"